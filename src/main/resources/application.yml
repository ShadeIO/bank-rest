logging:
  level:
    liquibase: INFO
    org.hibernate: INFO
    org.springframework.orm.jpa: INFO
    org.springframework.security: INFO

server:
  port: ${SERVER_PORT:8080}

spring:
  application:
    name: bankcards-api

  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.PostgreSQLDialect

  liquibase:
    enabled: true
    change-log: classpath:db/migration/changelog-001-init.yaml

  jackson:
    serialization:
      INDENT_OUTPUT: true

# üîê JWT security config
security:
  jwt:
    secret: ${JWT_SECRET:dev-jwt-secret-and-very-long-key-change-me}
    expiration: 3600000 # 1 —á–∞—Å –≤ –º—Å

encrypt:
  secret: ${ENCRYPT_SECRET:dev-encrypt-secret-and-very-long-key-change-me}

# üìò Swagger UI
springdoc:
  api-docs:
    path: /v3/api-docs
  swagger-ui:
    path: /swagger-ui.html
    enabled: true
  default-consumes-media-type: application/json
  default-produces-media-type: application/json

# ====== –ø—Ä–æ—Ñ–∏–ª—å: local (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) ======
# –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∏–∑ IDE/–∫–æ–Ω—Å–æ–ª–∏, –∫–æ–≥–¥–∞ –ë–î –Ω–∞ —Ö–æ—Å—Ç–µ
---
spring:
  config:
    activate:
       on-profile: local

  datasource:
     url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:${DB_PORT_HOST:5432}/${POSTGRES_DB:bankcards}}
     username: ${SPRING_DATASOURCE_USERNAME:${POSTGRES_USER:postgres}}
     password: ${SPRING_DATASOURCE_PASSWORD:${POSTGRES_PASSWORD:change_me}}
     driver-class-name: org.postgresql.Driver

# ====== –ø—Ä–æ—Ñ–∏–ª—å: docker ======
# –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –í docker-compose –º—ã —É–∂–µ —Å—Ç–∞–≤–∏–º SPRING_PROFILES_ACTIVE=docker.
# –ó–Ω–∞—á–µ–Ω–∏—è –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –∑–∞–¥–∞–ª–∏ –≤ compose.
---
spring:
  config:
    activate:
      on-profile: docker

  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://db:5432/${POSTGRES_DB:bankcards}}
    username: ${SPRING_DATASOURCE_USERNAME:${POSTGRES_USER:postgres}}
    password: ${SPRING_DATASOURCE_PASSWORD:${POSTGRES_PASSWORD:change_me}}
    driver-class-name: org.postgresql.Driver
